{"version":3,"sources":["webpack://dilu/webpack/universalModuleDefinition","webpack://dilu/webpack/bootstrap","webpack://dilu/./out-es5/errors.js","webpack://dilu/./out-es5/formValidator.js","webpack://dilu/./out-es5/index.js","webpack://dilu/./out-es5/rules.js","webpack://dilu/./out-es5/style.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","errors","argumentNull","parameterName","msg","concat","Error","elementValidateRuleNotSet","element","fieldElementCanntNull","fieldIndex","elementNotExists","fieldResultExpectBooleanType","_typeof","obj","iterator","constructor","_defineProperties","target","props","length","descriptor","configurable","writable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","FormValidator","errors_1","form","instance","Constructor","TypeError","_classCallCheck","this","validateOnChanged","_len","arguments","fields","Array","_key","elementEvents","protoProps","staticProps","field","push","map","errorElement","filter","forEach","style","display","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","fieldErrorElement","err","return","error","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","removeProperty","innerHTML","querySelectorAll","getElementsByClassName","errorClassName","fieldElement","document","createElement","className","nextSibling","parentElement","insertBefore","appendChild","ps","condition","checkField","regeneratorRuntime","mark","_callee","checkResults","wrap","_context","prev","abrupt","checkFieldAsync","all","sent","stop","isAsync","_this","checking","validateFunc","catch","addEventListener","elementType","type","elements","bindElementEvent","depends","j","dependResult","_j","rules","rule","_element","elementValue","isPass","validate","showElement","_callee2","_j2","_element2","_context2","console","assert","elementName","errorText","replace","tagName","inputElement","checked","formValidator_1","rules_1","numericRegex","decimalRegex","emailRegex","ipRegex","urlRegex","mobileRegex","dateRegex","msgs","createValidation","calc","elementValueCompare","otherValue","test","parseFloat","date","match","validDateArray","validDate","Date","split","setFullYear","setMonth","setDate","getValidDate","required","matches","otherElement","email","minLength","maxLength","greaterThan","lessThan","equal","ip","url","mobile","numeric","custom","getElementById","head","id"],"mappings":"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","file":"index.es5.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dilu\"] = factory();\n\telse\n\t\troot[\"dilu\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./out-es5/index.js\");\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errors = void 0; // namespace dilu {\n\nexports.errors = {\n  argumentNull: function argumentNull(parameterName) {\n    var msg = \"Parameter \".concat(parameterName, \" can not be null or empty.\");\n    return new Error(msg);\n  },\n  elementValidateRuleNotSet: function elementValidateRuleNotSet(element) {\n    var msg = \"\\u5143\\u7D20'\".concat(element.name, \"'\\u6CA1\\u6709\\u8BBE\\u7F6E\\u9A8C\\u8BC1\\u89C4\\u5219\");\n    return new Error(msg);\n  },\n  fieldElementCanntNull: function fieldElementCanntNull(fieldIndex) {\n    // if (fieldIndex != null)\n    var msg = fieldIndex != null ? \"The element value in the field cannt be null, field index is \".concat(fieldIndex, \".\") : \"The element in the field is null\";\n    return new Error(msg);\n  },\n  elementNotExists: function elementNotExists(name) {\n    var msg = \"Element \".concat(name, \" is not exits in the form.\");\n    return new Error(msg);\n  },\n  fieldResultExpectBooleanType: function fieldResultExpectBooleanType(name) {\n    var msg = \"Result of \".concat(name, \" field is expected boolean.\");\n    return new Error(msg);\n  }\n}; // }\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FormValidator = void 0;\n\nvar errors_1 = require(\"./errors\");\n/**\r\n * 表单验证器，用于对表单中的字段进行验证\r\n */\n\n\nvar FormValidator =\n/*#__PURE__*/\nfunction () {\n  function FormValidator(form) {\n    _classCallCheck(this, FormValidator);\n\n    /** 输入框的值发生改变，是否重新校验该输入框的值，默认为 true */\n    this.validateOnChanged = true;\n    if (!form) throw errors_1.errors.argumentNull('form');\n\n    for (var _len = arguments.length, fields = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      fields[_key - 1] = arguments[_key];\n    }\n\n    this.fields = fields || [];\n    this.form = form;\n    this.elementEvents = {};\n  }\n\n  _createClass(FormValidator, [{\n    key: \"appendField\",\n    value: function appendField(field) {\n      this.fields.push(field);\n    }\n    /**\r\n     * 清除表单的错误信息\r\n     */\n\n  }, {\n    key: \"clearErrors\",\n    value: function clearErrors() {\n      this.fields.map(function (o) {\n        return o.errorElement;\n      }).filter(function (o) {\n        return o != null;\n      }).forEach(function (o) {\n        return o.style.display = 'none';\n      });\n    }\n    /**\r\n     * 清除表单的指定元素错误信息\r\n     * @param name 指定的元素名称\r\n     */\n\n  }, {\n    key: \"clearElementError\",\n    value: function clearElementError(name) {\n      if (!name) throw errors_1.errors.argumentNull('name');\n      var fields = this.fields.filter(function (o) {\n        return o.name == name;\n      });\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n          var errorElement = this.fieldErrorElement(field);\n          errorElement.style.display = 'none';\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n    /**\r\n     * 设置表单的指定元素错误信息\r\n     * @param name 指定的元素名称\r\n     * @param error 错误信息\r\n     */\n\n  }, {\n    key: \"setElementError\",\n    value: function setElementError(name, error) {\n      if (!name) throw errors_1.errors.argumentNull('name');\n      if (!error) throw errors_1.errors.argumentNull('error');\n      var fields = this.fields.filter(function (o) {\n        return o.name == name;\n      });\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = fields[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var field = _step2.value;\n          var errorElement = this.fieldErrorElement(field);\n          errorElement.style.removeProperty('display');\n          errorElement.innerHTML = error;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"fieldElement\",\n    value: function fieldElement(field) {\n      var name = field.name;\n      var element = this.form.querySelectorAll(\"[name='\".concat(name, \"']\"))[0];\n      if (element == null) throw errors_1.errors.elementNotExists(name);\n      return element;\n    }\n  }, {\n    key: \"fieldErrorElement\",\n    value: function fieldErrorElement(field) {\n      if (!field.errorElement) {\n        var errorElement = this.form.getElementsByClassName(\"\".concat(FormValidator.errorClassName, \" \").concat(field.name))[0];\n\n        if (!errorElement) {\n          var element = this.fieldElement(field);\n          errorElement = document.createElement(\"span\");\n          errorElement.className = FormValidator.errorClassName;\n          errorElement.style.display = 'none';\n          if (element.nextSibling) element.parentElement.insertBefore(errorElement, element.nextSibling);else element.parentElement.appendChild(errorElement);\n        }\n\n        field.errorElement = errorElement;\n      }\n\n      return field.errorElement; // return errorElement;\n    }\n    /**\r\n     * 验证字段\r\n     */\n\n  }, {\n    key: \"check\",\n    value: function check() {\n      var ps = new Array();\n\n      for (var i = 0; i < this.fields.length; i++) {\n        var field = this.fields[i];\n        var element = this.fieldElement(field);\n        if (field.condition && field.condition(element) == false) continue;\n        var p = this.checkField(field);\n        ps.push(p);\n      }\n\n      var result = ps.filter(function (o) {\n        return o == false;\n      }).length == 0;\n      return result;\n    }\n    /**\r\n     * 异步验证字段\r\n     */\n\n  }, {\n    key: \"checkAsync\",\n    value: function checkAsync() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var ps, i, field, element, p, checkResults, result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                ps = new Array();\n                i = 0;\n\n              case 2:\n                if (!(i < this.fields.length)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                field = this.fields[i];\n                element = this.fieldElement(field);\n\n                if (!(field.condition && field.condition(element) == false)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"continue\", 9);\n\n              case 7:\n                p = this.checkFieldAsync(field);\n                ps.push(p);\n\n              case 9:\n                i++;\n                _context.next = 2;\n                break;\n\n              case 12:\n                _context.next = 14;\n                return Promise.all(ps);\n\n              case 14:\n                checkResults = _context.sent;\n                result = checkResults.filter(function (o) {\n                  return o == false;\n                }).length == 0;\n                return _context.abrupt(\"return\", result);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"bindElementEvent\",\n    value: function bindElementEvent(field, isAsync) {\n      var _this = this;\n\n      if (this.elementEvents[field.name]) {\n        return;\n      }\n\n      var element = this.fieldElement(field);\n\n      var validateFunc = function () {\n        var checking = false;\n        return function () {\n          if (checking) return;\n          checking = true; // isAsync ? this.checkFieldAsync(field) : this.checkField(field);\n\n          if (isAsync) {\n            _this.checkFieldAsync(field).then(function () {\n              return checking = false;\n            }).catch(function () {\n              return checking = false;\n            });\n          } else {\n            _this.checkField(field);\n\n            checking = false;\n          }\n        };\n      }();\n\n      if (this.validateOnChanged) {\n        element.addEventListener('change', validateFunc);\n        var elementType = element.type || \"text\";\n\n        if (elementType == \"text\" || elementType == \"password\") {\n          element.addEventListener('keyup', validateFunc);\n        } else if (elementType == \"radio\") {\n          var name = element.name;\n          var elements = this.form.querySelectorAll(\"[name='\".concat(name, \"']\"));\n\n          for (var i = 0; i < elements.length; i++) {\n            if (elements[i] == element) {\n              continue;\n            }\n\n            elements[i].addEventListener(\"change\", validateFunc);\n          }\n        }\n      }\n\n      this.elementEvents[field.name] = true;\n    }\n  }, {\n    key: \"checkField\",\n    value: function checkField(field) {\n      this.bindElementEvent(field, false);\n      var element = this.fieldElement(field);\n      var depends = field.depends || [];\n\n      for (var j = 0; j < depends.length; j++) {\n        var dependResult = depends[j](element);\n\n        if (_typeof(dependResult) == 'object') {\n          throw new Error('Please use checkAsync method.');\n        }\n\n        var dependIsOK = dependResult;\n        if (!dependIsOK) return false;\n      }\n\n      for (var _j = 0; _j < field.rules.length; _j++) {\n        var rule = field.rules[_j];\n\n        var _element = this.fieldElement(field);\n\n        if (_element == null) throw errors_1.errors.fieldElementCanntNull();\n        var value = this.elementValue(_element);\n        var isPass = rule.validate(value);\n\n        if (_typeof(isPass) == 'object') {\n          throw new Error('Please use checkAsync method.');\n        }\n\n        this.showElement(!isPass, field, rule, _element);\n        if (!isPass) return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"checkFieldAsync\",\n    value: function checkFieldAsync(field) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var element, depends, j, dependResult, dependIsOK, _j2, rule, _element2, value, p, isPass;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.bindElementEvent(field, true);\n                element = this.fieldElement(field);\n                depends = field.depends || [];\n                j = 0;\n\n              case 4:\n                if (!(j < depends.length)) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                dependResult = depends[j](element);\n\n                if (typeof dependResult == 'boolean') {\n                  dependResult = Promise.resolve(dependResult);\n                }\n\n                _context2.next = 9;\n                return dependResult;\n\n              case 9:\n                dependIsOK = _context2.sent;\n\n                if (dependIsOK) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", false);\n\n              case 12:\n                j++;\n                _context2.next = 4;\n                break;\n\n              case 15:\n                _j2 = 0;\n\n              case 16:\n                if (!(_j2 < field.rules.length)) {\n                  _context2.next = 33;\n                  break;\n                }\n\n                rule = field.rules[_j2];\n                _element2 = this.fieldElement(field);\n\n                if (!(_element2 == null)) {\n                  _context2.next = 21;\n                  break;\n                }\n\n                throw errors_1.errors.fieldElementCanntNull();\n\n              case 21:\n                value = this.elementValue(_element2);\n                p = rule.validate(value);\n\n                if (typeof p == 'boolean') {\n                  p = Promise.resolve(p);\n                }\n\n                _context2.next = 26;\n                return p;\n\n              case 26:\n                isPass = _context2.sent;\n                this.showElement(!isPass, field, rule, _element2);\n\n                if (isPass) {\n                  _context2.next = 30;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", false);\n\n              case 30:\n                _j2++;\n                _context2.next = 16;\n                break;\n\n              case 33:\n                return _context2.abrupt(\"return\", true);\n\n              case 34:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"showElement\",\n    value: function showElement(display, field, rule, element) {\n      var errorElement = this.fieldErrorElement(field);\n      console.assert(errorElement != null, 'errorElement cannt be null.');\n\n      if (rule.error != null) {\n        errorElement = field.errorElement;\n        var name = this.elementName(element);\n        var errorText = typeof rule.error == 'string' ? rule.error : rule.error() || '';\n        errorElement.innerHTML = errorText.replace('%s', name);\n      }\n\n      if (display) {\n        errorElement.style.removeProperty('display');\n      } else {\n        errorElement.style.display = 'none';\n      }\n    }\n    /**\r\n     * 异步验证 HTML 元素\r\n     * @param name HTML 元素名称\r\n     */\n\n  }, {\n    key: \"checkElementAsync\",\n    value: function checkElementAsync(name) {\n      var field = this.fields.filter(function (o) {\n        return o.name == name;\n      })[0];\n      if (!field) throw errors_1.errors.elementNotExists(name);\n      return this.checkFieldAsync(field);\n    }\n    /**\r\n     * 同步验证 HTML 元素\r\n     * @param name HTML 元素名称\r\n     */\n\n  }, {\n    key: \"checkElement\",\n    value: function checkElement(name) {\n      var field = this.fields.filter(function (o) {\n        return o.name == name;\n      })[0];\n      if (!field) throw errors_1.errors.elementNotExists(name);\n      return this.checkField(field);\n    }\n  }, {\n    key: \"elementValue\",\n    value: function elementValue(element) {\n      if (element.tagName == \"TEXTAREA\") {\n        return element.value;\n      }\n\n      var inputElement = element;\n\n      if (inputElement.type == \"radio\") {\n        var elements = this.form.querySelectorAll(\"[name='\".concat(inputElement.name, \"']\"));\n\n        for (var i = 0; i < elements.length; i++) {\n          if (elements[i].checked) {\n            return elements[i].value;\n          }\n        }\n\n        return \"\";\n      }\n\n      return element.value;\n    }\n  }, {\n    key: \"elementName\",\n    value: function elementName(element) {\n      if (element.tagName == \"TEXTAREA\") {\n        return element.name;\n      }\n\n      return element.name;\n    }\n  }]);\n\n  return FormValidator;\n}();\n\nexports.FormValidator = FormValidator;\nFormValidator.errorClassName = 'validationMessage'; // }\n//# sourceMappingURL=formValidator.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rules = exports.FormValidator = void 0;\n\nvar formValidator_1 = require(\"./formValidator\");\n\nObject.defineProperty(exports, \"FormValidator\", {\n  enumerable: true,\n  get: function get() {\n    return formValidator_1.FormValidator;\n  }\n});\n\nvar rules_1 = require(\"./rules\");\n\nObject.defineProperty(exports, \"rules\", {\n  enumerable: true,\n  get: function get() {\n    return rules_1.rules;\n  }\n});\n\nrequire(\"./style\");\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rules = void 0; // namespace dilu {\n\nvar ruleRegex = /^(.+?)\\[(.+)\\]$/,\n    numericRegex = /^[0-9]+$/,\n    integerRegex = /^\\-?[0-9]+$/,\n    decimalRegex = /^\\-?[0-9]*\\.?[0-9]+$/,\n    emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n    alphaRegex = /^[a-z]+$/i,\n    alphaNumericRegex = /^[a-z0-9]+$/i,\n    alphaDashRegex = /^[a-z0-9_\\-]+$/i,\n    naturalRegex = /^[0-9]+$/i,\n    naturalNoZeroRegex = /^[1-9][0-9]*$/i,\n    ipRegex = /^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,\n    base64Regex = /[^a-zA-Z0-9\\/\\+=]/i,\n    numericDashRegex = /^[\\d\\-\\s]+$/,\n    urlRegex = /^((http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)|)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/,\n    mobileRegex = /^1[34578]\\d{9}$/,\n    dateRegex = /\\d{4}-\\d{1,2}-\\d{1,2}/;\nvar msgs = {\n  required: '%s不能为空',\n  matches: '%s与%s不匹配',\n  \"default\": 'The %s field is still set to default, please change.',\n  equal: '%s和%s必须相同',\n  email: '不是有效的邮箱地址',\n  valid_emails: 'The %s field must contain all valid email addresses.',\n  minLength: '%s至少包含%s个字符',\n  maxLength: '%s不能超过%s字符',\n  exact_length: 'The %s field must be exactly %s characters in length.',\n  greater_than: 'The %s field must contain a number greater than %s.',\n  less_than: 'The %s field must contain a number less than %s.',\n  alpha: 'The %s field must only contain alphabetical characters.',\n  alpha_numeric: 'The %s field must only contain alpha-numeric characters.',\n  alpha_dash: 'The %s field must only contain alpha-numeric characters, underscores, and dashes.',\n  numeric: '请数入数字',\n  integer: 'The %s field must contain an integer.',\n  decimal: 'The %s field must contain a decimal number.',\n  is_natural: 'The %s field must contain only positive numbers.',\n  is_natural_no_zero: 'The %s field must contain a number greater than zero.',\n  ip: 'The %s field must contain a valid IP.',\n  valid_base64: 'The %s field must contain a base64 string.',\n  valid_credit_card: 'The %s field must contain a valid credit card number.',\n  is_file_type: 'The %s field must contain only %s files.',\n  valid_url: 'The %s field must contain a valid URL.',\n  greater_than_date: 'The %s field must contain a more recent date than %s.',\n  less_than_date: 'The %s field must contain an older date than %s.',\n  greater_than_or_equal_date: 'The %s field must contain a date that\\'s at least as recent as %s.',\n  less_than_or_equal_date: 'The %s field must contain a date that\\'s %s or older.',\n  mobile: '请输入正确的手机号码',\n  custom: '请输入正确制'\n};\n\nfunction createValidation(validate, error) {\n  return {\n    validate: validate,\n    error: error\n  };\n}\n\nfunction calc(value) {\n  if (typeof value == 'function') {\n    return value();\n  }\n\n  return value;\n}\n/**\r\n * 表单验证规则\r\n */\n\n\nexports.rules = {\n  /**\r\n   * 验证必填字段\r\n   * @param error 错误提示文字\r\n   */\n  required: function required(error) {\n    var validate = function validate(value) {\n      return (value || \"\") != '';\n    };\n\n    return createValidation(validate, error || msgs.required);\n  },\n\n  /**\r\n   * 验证两个字段值是否相等\r\n   * @param otherElement 另外一个字段\r\n   * @param error 错误提示文字\r\n   */\n  matches: function matches(otherElement, error) {\n    var validate = function validate(value) {\n      return value == otherElement.value;\n    };\n\n    return createValidation(validate, error || msgs.required);\n  },\n\n  /**\r\n   * 验证邮箱\r\n   * @param error 错误提示文字\r\n   */\n  email: function email(error) {\n    var validate = function validate(value) {\n      return emailRegex.test(value);\n    };\n\n    return createValidation(validate, error || msgs.required);\n  },\n\n  /**\r\n   * 验证字段最小长度\r\n   * @param length 最小长度\r\n   * @param error 错误提示文字\r\n   */\n  minLength: function minLength(length, error) {\n    var validate = function validate(value) {\n      return (value || '').length >= calc(length);\n    };\n\n    return createValidation(validate, error || msgs.minLength);\n  },\n\n  /**\r\n   * 验证字段的最大长度\r\n   * @param length 最大长度\r\n   * @param error 错误提示文字\r\n   */\n  maxLength: function maxLength(length, error) {\n    var validate = function validate(value) {\n      return (value || '').length <= calc(length);\n    };\n\n    return createValidation(validate, error || msgs.matches);\n  },\n\n  /**\r\n   * 验证字段大于指定的值\r\n   * @param value 指定的值\r\n   * @param error 错误提示文字\r\n   */\n  greaterThan: function greaterThan(value, error) {\n    var validate = function validate(o) {\n      return elementValueCompare(o, calc(value)) == 'greaterThan';\n    };\n\n    return createValidation(validate, error || msgs.greater_than);\n  },\n\n  /**\r\n   * 验证字段小于指定的值\r\n   * @param value 指定的值\r\n   * @param error 错误提示文字\r\n   */\n  lessThan: function lessThan(value, error) {\n    var validate = function validate(o) {\n      return elementValueCompare(o, calc(value)) == 'lessThan';\n    };\n\n    return createValidation(validate, error || msgs.less_than);\n  },\n\n  /**\r\n   * 验证字段等于指定的值\r\n   * @param value 指定的值\r\n   * @param error 错误提示文字\r\n   */\n  equal: function equal(value, error) {\n    var validate = function validate(o) {\n      return elementValueCompare(o, calc(value)) == 'equal';\n    };\n\n    return createValidation(validate, error || msgs.equal);\n  },\n\n  /**\r\n   * 验证字段为 IP\r\n   * @param error 错误提示文字\r\n   */\n  ip: function ip(error) {\n    var validate = function validate(value) {\n      return ipRegex.test(value);\n    };\n\n    return createValidation(validate, error || msgs.ip);\n  },\n\n  /**\r\n   * 验证字段为 URL\r\n   * @param error 错误提示文字\r\n   */\n  url: function url(error) {\n    var validate = function validate(value) {\n      return urlRegex.test(value);\n    };\n\n    return createValidation(validate, error || msgs.valid_url);\n  },\n\n  /**\r\n   * 验证字段为手机号码\r\n   * @param error 错误提示文字\r\n   */\n  mobile: function mobile(error) {\n    var validate = function validate(value) {\n      return mobileRegex.test(value);\n    };\n\n    return createValidation(validate, error || msgs.mobile);\n  },\n\n  /**\r\n   * 验证字段为数字\r\n   * @param error 错误提示文字\r\n   */\n  numeric: function numeric(error) {\n    var validate = function validate(value) {\n      return numericRegex.test(value);\n    };\n\n    return createValidation(validate, error || msgs.numeric);\n  },\n\n  /**\r\n   * 自定义验证\r\n   * @param validate 自定义验证的方法\r\n   * @param error 错误提示文字\r\n   */\n  custom: function custom(validate, error) {\n    return createValidation(validate, error || msgs.custom);\n  }\n};\n\nfunction elementValueCompare(value, otherValue) {\n  var elementValue;\n\n  if (typeof otherValue == 'number') {\n    elementValue = decimalRegex.test(value) ? parseFloat(value) : null;\n  } else if (typeof otherValue == 'string') {\n    elementValue = value;\n  } else {\n    elementValue = getValidDate(value);\n  }\n\n  if (elementValue < otherValue) return 'lessThan';else if (elementValue > otherValue) return 'greaterThan';else return 'equal';\n}\n/**\r\n * private function _getValidDate: helper function to convert a string date to a Date object\r\n * @param date (String) must be in format yyyy-mm-dd or use keyword: today\r\n * @returns {Date} returns false if invalid\r\n */\n\n\nfunction getValidDate(date) {\n  if (!date.match('today') && !date.match(dateRegex)) {\n    return null;\n  }\n\n  var validDate = new Date(),\n      validDateArray;\n\n  if (!date.match('today')) {\n    validDateArray = date.split('-');\n    validDate.setFullYear(validDateArray[0]);\n    validDate.setMonth(validDateArray[1] - 1);\n    validDate.setDate(validDateArray[2]);\n  }\n\n  return validDate;\n}\n\n; // }\n//# sourceMappingURL=rules.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar formValidator_1 = require(\"./formValidator\");\n\nvar elementId = \"maishu-dilu-style\";\n\nif (!document.getElementById(elementId) && document.head != null) {\n  var element = document.createElement('style');\n  element.type = 'text/css';\n  element.id = elementId;\n  document.head.appendChild(element);\n  element.innerHTML = \"\\n    .\".concat(formValidator_1.FormValidator.errorClassName, \" {\\n        color: red;\\n        font-weight: bold;\\n    }\\n    \");\n}\n//# sourceMappingURL=style.js.map\n"],"sourceRoot":""}