"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PageBody = void 0;
// import { component } from "./decorators";
const React = require("react");
const component_container_1 = require("./component-container");
// import { PageContext } from "./page";
// import { PageHeader, PageHeaderProps } from "./page-header";
// import { PageFooter, PageFooterProps } from "./page-footer";
const components_1 = require("./components");
const register_1 = require("./register");
// @component({ type: PageBody.typeName })
class PageBody extends React.Component {
    render() {
        return React.createElement(components_1.PageContext.Consumer, null, args => {
            let style = { marginTop: 0 };
            if (args.pageData != null) {
                let header = args.pageData.children.filter(o => o.type == components_1.PageHeader.typeName)[0];
                let footer = args.pageData.children.filter(o => o.type == components_1.PageFooter.typeName)[0];
                if (header != null && header.props.visible) {
                    let p = header.props;
                    style.marginTop = p.height;
                    style.height = `calc(100% - ${p.height}px)`;
                }
                if (footer != null && footer.props.visible) {
                    let p = footer.props;
                    style.marginBottom = p.height;
                    style.height = `calc(100% - ${style.marginTop + p.height}px)`;
                }
            }
            style.display = this.props.visible ? "" : "none";
            return React.createElement(component_container_1.ComponentContainer, Object.assign({ className: PageBody.className }, this.props, { style: style }));
        });
    }
}
exports.PageBody = PageBody;
PageBody.typeName = "section";
PageBody.className = "body";
PageBody.id = "page-body";
PageBody.defaultProps = { id: PageBody.id, visible: true };
PageBody.contextType = components_1.PageContext;
register_1.registerComponent(PageBody.typeName, PageBody);
//# sourceMappingURL=page-body.js.map