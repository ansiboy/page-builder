"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HeadersRequestProcessor = void 0;
const priority_1 = require("./priority");
class HeadersRequestProcessor {
    constructor() {
        this.options = { headers: {} };
        this.priority = priority_1.processorPriorities.HeadersRequestProcessor;
    }
    get headers() {
        return this.options.headers;
    }
    set headers(value) {
        this.options.headers = value;
    }
    execute(ctx) {
        if (this.headers) {
            for (let name in this.headers) {
                ctx.res.setHeader(name, this.headers[name]);
            }
        }
        if (ctx.req.method == "OPTIONS") {
            return { content: JSON.stringify({}) };
        }
        return null;
    }
}
exports.HeadersRequestProcessor = HeadersRequestProcessor;
