"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.boundField = void 0;

var w = require("maishu-wuzhui");

var errors_1 = require("../errors");

function boundField(params) {
  if (!params) throw errors_1.errors.argumentNull('params');
  params.headerStyle = Object.assign({
    textAlign: 'center'
  }, params.headerStyle || {});
  if (params.nullText == null) params.nullText = '';
  var field = new w.BoundField(params); // let validateRules = {
  //     validateRules: params.validateRules
  // }
  // let r = Object.assign(field, validateRules);

  var createControl = field.createControl;

  field.createControl = function () {
    if (params.createControl) {
      var _ctrl = params.createControl.apply(this, []);

      return _ctrl;
    }

    var ctrl = createControl.apply(this, []); // if (params.emptyText)
    //     (<HTMLInputElement>ctrl.element).placeholder = params.emptyText;

    ctrl.element.className = "form-control"; // (<HTMLInputElement>ctrl.element).name = params.dataField;

    return ctrl;
  };

  var createItemCell = field.createItemCell;

  field.createItemCell = function (dataItem, cellElement) {
    var cell = createItemCell.apply(this, [dataItem, cellElement]);
    var render = cell.render;

    cell.render = function (dataItem, mode) {
      if (params.renderCell) {
        params.renderCell(cell, dataItem, mode);
      } else {
        render.apply(cell, [dataItem, mode]);
      }
    };

    return cell;
  };

  return field;
}

exports.boundField = boundField;
//# sourceMappingURL=bound-field.js.map
