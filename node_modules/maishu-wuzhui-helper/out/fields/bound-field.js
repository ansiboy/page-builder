"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.boundField = void 0;
const w = require("maishu-wuzhui");
const errors_1 = require("../errors");
function boundField(params) {
    if (!params)
        throw errors_1.errors.argumentNull('params');
    params.headerStyle = Object.assign({ textAlign: 'center' }, params.headerStyle || {});
    if (params.nullText == null)
        params.nullText = '';
    let field = new w.BoundField(params);
    // let validateRules = {
    //     validateRules: params.validateRules
    // }
    // let r = Object.assign(field, validateRules);
    let createControl = field.createControl;
    field.createControl = function () {
        if (params.createControl) {
            let ctrl = params.createControl.apply(this, []);
            return ctrl;
        }
        let ctrl = createControl.apply(this, []);
        // if (params.emptyText)
        //     (<HTMLInputElement>ctrl.element).placeholder = params.emptyText;
        ctrl.element.className = "form-control";
        // (<HTMLInputElement>ctrl.element).name = params.dataField;
        return ctrl;
    };
    let createItemCell = field.createItemCell;
    field.createItemCell = function (dataItem, cellElement) {
        let cell = createItemCell.apply(this, [dataItem, cellElement]);
        let render = cell.render;
        cell.render = (dataItem, mode) => {
            if (params.renderCell) {
                params.renderCell(cell, dataItem, mode);
            }
            else {
                render.apply(cell, [dataItem, mode]);
            }
        };
        return cell;
    };
    return field;
}
exports.boundField = boundField;
//# sourceMappingURL=bound-field.js.map